# How 88mph works

## High level overview

What exactly happens when you, say, deposit 100 DAI into 88mph for 1 year?

1. Your 100 DAI is transferred to 88mph.
2. 88mph returns part of the 100 DAI back to your wallet as the "upfront interest" (let's say 10 DAI).
3. 88mph takes the remaining 90 DAI and lends it out on a lending protocol with variable interest rate (e.g. Compound), which will generate interest for the 1 year deposit period.
4. Once the 1 year is over, you withdraw 100 DAI from 88mph.

At first glance, this may seem extremely problematic. To begin with, how is this different from simply juggling your own money around? Why would it need to be its own protocol? Secondly, if Compound failed to generate 10 DAI of interest from the 90 DAI lent to it in 1 year, you can't guarantee that you can withdraw 100 DAI from 88mph.

These objections are resolved by 88mph through pooling the deposits together. Pooling deposits means putting the deposited DAI into a single pool, from which users can withdraw a deposit once its deposit period is over.

How would pooling help?

- **Risk balancing**: If Compound's interest rate rose after a deposit, the interest generated by the funds lent to Compound could be more than the upfront interest given to the user. This surplus would be able to balance out the deficit caused by deposits where the interest rate has dropped since deposit. This way, risk of insolvency is reduced for the users, and the stability of 88mph's interest rate is supported.
- **Overlapping deposit periods**: If an older deposit could not generate enought interest to cover the deficit caused by the upfront interest payment to the depositor, and its deposit period will be over soon, a newer deposit could temporarily solve the issue, since the funds of the newer deposit can cover the deficit when the old depositor withdraws. This alone obviously does not solve the deficit, since it would essentially be a Ponzi scheme, but combined with risk balancing and the volatility in Compound's interest rate it definitely helps with keeping the 88mph pool solvent.
- **Sponsored deposits**: The pooled nature of 88mph allows for sponsored deposits, which are like normal deposits except no upfront interest is paid out. Sponsors could make these deposits in exchange for visibility, and will be taking on part of the pool's risks. Sponsored deposits help with both of the points mentioned above.

In addition to pooling, 88mph also algorithmically determine the offered upfront interest rate, such that the part of the deposit that is lent to Compound is expected to generate enough interest to cover the upfront interest paid to the user. This will be further discussed in the next section.

## Technical details

This section will detail how 88mph determines the upfront interest rate offered to the user.

Suppose that for a certain deposit, the deposit period is \(t\) seconds, the Compound interest rate at the time of deposit is \(r_0\) per second, the deposit amount is \(D\), and the offered upfront interest is \(\gamma D\). Also suppose that the amount of interest earned from Compound is linear with regards to time (non-compounding interest).

Furthermore, let's suppose that we predict the average interest rate offered by Compound during the deposit period is \(mr_0\), where \(m \gt 0\). Then, the condition for the interest earned from Compound to be at least as much as the upfront interest given to the user is:

$$\gamma D \le (1 - \gamma) D m r_0 t$$

which simplifies to:

$$\gamma \le \frac{m r_0 t}{1 + m r_0 t}$$

Suppose we choose \(\gamma = \frac{m r_0 t}{1 + m r_0 t}\) to be the (non-annualized) upfront interest rate. This means that the amount that's lent to Compound will be just enough to cover the upfront interest. If the average Compound interest rate actually turns out to be greater than \(m r_0\), then the deposit will provide a surplus; otherwise it will be in deficit. Therefore, \(m r_0\) is the minimum average Compound interest rate during the deposit period such that won't cause a deficit.

It should be clear that \(m\) acts as a parameter that we can adjust to represent how optimistic/pessimistic we are about the future Compound interest rate, as well as how risky the pool is. If \(m > 1\), you would be optimistic about future Compound interest rates; if \(m < 1\), you would be pessimistic; if \(m = 1\), you would be neutral. At 88mph, we have selected \(m = \frac 1 2\), meaning that an individual deposit won't have a deficit as long as the average Compound interest rate during the deposit period will be at least half of the current rate.

What about compound interest, which is what Compound offers? Since earning compound interest rather than non-compound interest just means that the pool will earn more interest, it just makes 88mph more secure against the risk of deficit.

To summarize, the upfront interest offered by 88mph for a deposit of \(D\) DAI for \(t\) seconds is

$$upfrontInterest = \frac{\frac 1 2 r_0 t}{1 + \frac 1 2 r_0 t} D$$